# 階層設計書（スクショット）

本書はスクショットの構成を、画面・処理・データの観点で整理した階層設計書です。

## 1. 画面/ウィンドウ階層

```
アプリ（Tk root）
└─ オーバーレイ画面（範囲選択）
   └─ クリック＆ドラッグで撮影範囲決定

アプリ（Tk root）
└─ プレビュー画面（撮影結果表示）
   ├─ 右クリックメニュー
   ├─ 追加撮影ボタン
   └─ Ctrl + ドラッグで赤線描画
```

## 2. 機能階層

```
起動
└─ 範囲選択（オーバーレイ）
   ├─ マウス押下
   ├─ ドラッグ
   └─ 解放 → 画面キャプチャ
      └─ プレビュー表示
         ├─ 右クリックメニュー
         │  ├─ 保存
         │  ├─ ズームイン
         │  └─ ズームアウト
         ├─ Ctrl + ドラッグ描画
         └─ 追加撮影（新規オーバーレイ）
```

## 3. データ階層

```
撮影結果（PIL.Image）
├─ base_image（元の撮影画像）
└─ annotated_image（赤線など描画済み）
```

## 4. 画面遷移（簡易）

```
起動 → オーバーレイ表示 → 撮影 → プレビュー表示
                     ↘ キャンセル（Esc/右クリック）

プレビュー → 追加撮影 → 新規オーバーレイ → 新規プレビュー
```

## 5. 外部依存

- Tkinter: GUI/イベント
- Pillow: 画面キャプチャ/画像描画/表示
